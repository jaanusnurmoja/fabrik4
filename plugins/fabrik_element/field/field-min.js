/*! Fabrik */

function geolocateLoad(){document.body?window.fireEvent("google.geolocate.loaded"):console.log("no body")}define(["jquery","fab/element","components/com_fabrik/libs/masked_input/jquery.maskedinput"],function(o,i,t){return window.FbField=new Class({Extends:i,options:{use_input_mask:!1,input_mask_definitions:"",input_mask_autoclear:!1,geocomplete:!1,mapKey:!1},initialize:function(i,t){var e;this.setPlugin("fabrikfield"),this.parent(i,t),this.options.use_input_mask&&(""!==this.options.input_mask_definitions&&(e=JSON.parse(this.options.input_mask_definitions),o.extend(o.mask.definitions,e)),o("#"+i).mask(this.options.input_mask,{autoclear:this.options.input_mask_autoclear})),this.options.geocomplete&&(this.gcMade=!1,this.loadFn=function(){if(!1===this.gcMade){var e=this;o("#"+this.element.id).geocomplete().bind("geocode:result",function(i,t){Fabrik.fireEvent("fabrik.element.field.geocode",e)}),this.gcMade=!0}}.bind(this),window.addEvent("google.geolocate.loaded",this.loadFn),Fabrik.loadGoogleMap(this.options.mapKey,"geolocateLoad"))},select:function(){this.getElement()&&this.getElement().select()},focus:function(){this.getElement()&&this.getElement().focus(),this.parent()},cloned:function(i){var t=this.getElement();if(this.options.use_input_mask&&t){if(""!==this.options.input_mask_definitions){var e=JSON.parse(this.options.input_mask_definitions);$H(e).each(function(i,t){o.mask.definitions[t]=i})}o("#"+t.id).mask(this.options.input_mask,{autoclear:this.options.input_mask_autoclear})}this.options.geocomplete&&t&&o("#"+t.id).geocomplete(),this.parent(i)}}),window.FbField});