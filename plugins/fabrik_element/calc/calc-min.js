var FbCalc=new Class({Extends:FbElement,initialize:function(b,a){this.plugin="calc";this.parent(b,a)},attachedToForm:function(){if(this.options.ajax){this.ajaxCalc=this.calc.bindWithEvent(this);var a=this.form;this.options.observe.each(function(b){if(this.form.formElements[b]){this.form.formElements[b].addNewEvent("change",this.ajaxCalc)}}.bind(this))}},calc:function(){this.element.getParent().getElement(".loader").setStyle("display","");var b=Fabrik.liveSite+"index.php?option=com_fabrik&format=raw&view=plugin&task=pluginAjax&plugin=calc&method=ajax_calc&element_id="+this.options.id;var a=this.form.getFormElementData();var d=Object.append(a,{formid:this.form.id});var c=new Request({url:b,method:"post",data:d,onComplete:function(e){this.element.getParent().getElement(".loader").setStyle("display","none");this.update(e)}.bind(this)}).send()}});