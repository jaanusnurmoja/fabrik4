var FbCalc=new Class({Extends:FbElement,initialize:function(b,a){this.plugin="calc";this.parent(b,a)},attachedToForm:function(){if(this.options.ajax){this.ajaxCalc=this.calc.bindWithEvent(this);var a=this.form;this.options.observe.each(function(b){if(this.form.formElements[b]){this.form.formElements[b].addNewEvent("change",this.ajaxCalc)}}.bind(this))}},calc:function(){this.element.getParent().getElement(".loader").setStyle("display","");var a=this.form.getFormElementData();var c={option:"com_fabrik",format:"raw",task:"plugin.pluginAjax",plugin:"calc",method:"ajax_calc",element_id:this.options.id,formid:this.form.id};c=Object.append(a,c);var b=new Request({url:"",method:"post",data:c,onComplete:function(d){this.element.getParent().getElement(".loader").setStyle("display","none");this.update(d)}.bind(this)}).send()}});